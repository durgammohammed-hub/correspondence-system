# ๐ ุฏููู ุงูุชุซุจูุช ุงูุณุฑูุน
# Quick Installation Guide

## ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

ูุจู ุงูุจุฏุกุ ุชุฃูุฏ ูู ุชุซุจูุช:
- โ Node.js (ุงูุฅุตุฏุงุฑ 16 ุฃู ุฃุญุฏุซ)
- โ MySQL (ุงูุฅุตุฏุงุฑ 8.0 ุฃู ุฃุญุฏุซ)
- โ npm ุฃู yarn

---

## ุฎุทูุงุช ุงูุชุซุจูุช

### 1๏ธโฃ ุชุญุฏูุซ ุงูุณูุฑูุฑ

```bash
# ุงุณุชุจุฏู ููู server.js ุงููุฏูู ุจุงูุฌุฏูุฏ
# ุงูููู ุงูุฌุฏูุฏ: server.js
```

### 2๏ธโฃ ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ูู ุจุชุดุบูู ุณูุฑูุจุช ุงูุชุญุฏูุซ
mysql -u root -p < database-updates.sql

# ุฃู ูู ุฏุงุฎู MySQL:
mysql> source database-updates.sql;
```

### 3๏ธโฃ ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ

```bash
# ุงูุณุฎ ููู .env ูุนุฏูู ุงูููู
cp .env .env

# ุซู ุนุฏูู ุงูููู:
nano .env

# ุชุฃูุฏ ูู:
# - DB_PASSWORD (ูููุฉ ูุฑูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช)
# - JWT_SECRET (ุบูุฑูุง ููููุฉ ุนุดูุงุฆูุฉ ุทูููุฉ)
```

### 4๏ธโฃ ุชุซุจูุช ุงูููุชุจุงุช ุงูุฌุฏูุฏุฉ

```bash
# ุชุซุจูุช ุฌููุน ุงูููุชุจุงุช
npm install

# ุฃู ุฅุฐุง ููุช ุชุณุชุฎุฏู yarn:
yarn install
```

### 5๏ธโฃ ุฅูุดุงุก ูุฌูุฏ ุงููููุงุช

```bash
# ุฃูุดุฆ ูุฌูุฏ uploads
mkdir -p uploads/attachments

# ุฃุนุทู ุงูุตูุงุญูุงุช ุงูููุงุณุจุฉ
chmod 755 uploads
chmod 755 uploads/attachments
```

### 6๏ธโฃ ุชุดุบูู ุงูุณูุฑูุฑ

```bash
# ูุถุน ุงูุชุทููุฑ (ูุน ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู)
npm run dev

# ุฃู ูุถุน ุงูุฅูุชุงุฌ:
npm start
```

---

## โ ุงูุชุญูู ูู ุงูุชุซุจูุช

### ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช:
ุนูุฏ ุชุดุบูู ุงูุณูุฑูุฑุ ูุฌุจ ุฃู ุชุฑู:
```
โ ุชู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุฌุงุญ
๐ ุงูุฎุงุฏู ูุนูู ุนูู ุงููููุฐ 5000
```

### ุงุฎุชุจุงุฑ APIs:

#### 1. ุชุณุฌูู ุงูุฏุฎูู:
```bash
curl -X POST http://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"Admin@123"}'
```

#### 2. ุฌูุจ ุงููุฑุงุณูุงุช:
```bash
curl http://localhost:5000/api/correspondences \
  -H "Authorization: Bearer YOUR_TOKEN"
```

#### 3. ุงุฎุชุจุงุฑ ุดุงูู:
```bash
# ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
# http://localhost:5000/api/statistics
```

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ูุดููุฉ: "Cannot connect to database"
**ุงูุญู:**
```bash
# ุชุญูู ูู ุฃู MySQL ูุนูู:
sudo systemctl status mysql

# ุฃู:
sudo service mysql status

# ุฅุฐุง ูู ููู ูุนูู:
sudo systemctl start mysql
```

### ูุดููุฉ: "Column 'password' doesn't exist"
**ุงูุญู:**
```bash
# ุดุบูู ุณูุฑูุจุช ุงูุชุญุฏูุซ ูุฑุฉ ุฃุฎุฑู:
mysql -u root -p correspondence_system < database-updates.sql
```

### ูุดููุฉ: "Cannot find module"
**ุงูุญู:**
```bash
# ุฃุนุฏ ุชุซุจูุช ุงูููุชุจุงุช:
rm -rf node_modules package-lock.json
npm install
```

### ูุดููุฉ: "Permission denied" ุนูุฏ ุฑูุน ุงููููุงุช
**ุงูุญู:**
```bash
# ุฃุนุทู ุตูุงุญูุงุช ูููุฌูุฏ:
chmod -R 755 uploads
chown -R $USER:$USER uploads
```

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุงูุชุซุจูุช ุงููุงุฌุญ:

1. โ ุบููุฑ ูููุฉ ูุฑูุฑ ุงููุณุชุฎุฏู ุงูุงูุชุฑุงุถู (admin)
2. โ ุฃุถู ุงููุณุชุฎุฏููู ูุงูุฃูุณุงู ูุงูุดุนุจ
3. โ ุฌุฑูุจ ุฅูุดุงุก ูุฑุงุณูุฉ ุฌุฏูุฏุฉ
4. โ ุงุฎุชุจุฑ ุฑูุน ุงููุฑููุงุช
5. โ ุงุฎุชุจุฑ ุงูุชูููุนุงุช

---

## ๐งช ุงุฎุชุจุงุฑ ุดุงูู ูููุธุงู

ุงุณุชุฎุฏู ููู `api-tests.js`:

```bash
# ูู ุงููุชุตูุญ:
# 1. ุงูุชุญ console (F12)
# 2. ุงูุณุฎ ูุญุชูู api-tests.js
# 3. ุดุบูู: runAllTests()

# ุฃู ูู Node.js:
npm install node-fetch
node api-tests.js
```

---

## ๐ APIs ุงูุฌุฏูุฏุฉ ุงููุชููุฑุฉ

ุชู ุฅุถุงูุฉ:
- โ ุฅูุดุงุก ูุฑุงุณูุฉ (POST /api/correspondences)
- โ ุชุนุฏูู ูุฑุงุณูุฉ (PUT /api/correspondences/:id)
- โ ุญุฐู ูุฑุงุณูุฉ (DELETE /api/correspondences/:id)
- โ ุฑูุน ูุฑููุงุช (POST /api/correspondences/:id/attachments)
- โ ุงูุชูููุนุงุช (POST /api/correspondences/:id/sign)
- โ ุงูุชุนูููุงุช (POST /api/correspondences/:id/comments)
- โ ุงูุฅุดุนุงุฑุงุช (GET /api/notifications)
- โ ุงูุฅุญุตุงุฆูุงุช (GET /api/statistics)
- โ ุงูุจุญุซ ูุงูููุชุฑุฉ
- โ ุณุฌู ุงูุนูููุงุช (GET /api/audit-logs)

---

## ๐ ุงูุฃูุงู

### ููุฅูุชุงุฌ - ููู ุฌุฏุงู:

1. **ุบููุฑ JWT_SECRET:**
```bash
# ูู ููู .env:
JWT_SECRET=ุถุน-ููุง-ูุต-ุนุดูุงุฆู-ุทููู-ุฌุฏุงู-ุนูู-ุงูุฃูู-64-ุญุฑู
```

2. **ุงุณุชุฎุฏู HTTPS:**
```bash
# ุฃุถู SSL Certificate
# ุงุณุชุฎุฏู Nginx ุฃู Apache ูู Reverse Proxy
```

3. **ูููุฏ ุงูุตูุงุญูุงุช:**
```bash
# ุงููุญ ุตูุงุญูุงุช ูุญุฏูุฏุฉ ููุฌูุฏ uploads
chmod 755 uploads
```

4. **ูุนูู ุงูุฌุฏุงุฑ ุงููุงุฑู:**
```bash
# ุงูุชุญ ุงููููุฐ 5000 ููุท ููู localhost
sudo ufw allow from 127.0.0.1 to any port 5000
```

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุฑุงุฌุน ููู `README-UPDATES.md`
2. ุชุญูู ูู logs ุงูุณูุฑูุฑ
3. ุดุบูู ุงุฎุชุจุงุฑุงุช API

---

## โจ ููุงุญุธุงุช ูููุฉ

- โ ุงูุณูุฑูุฑ ุงูุฌุฏูุฏ ูุชูุงูู 100% ูุน Frontend ุงูููุฌูุฏ
- โ ุชู ุฅุตูุงุญ ูุดููุฉ `password` vs `password_hash`
- โ ุชู ุฅุถุงูุฉ ุฏุนู ูุงูู ูููุฏุงุฑุณ
- โ ุชู ุฅุถุงูุฉ Audit Logging ููู ุงูุนูููุงุช
- โ ุชู ุชุญุณูู ุงูุฃูุงู ูุงูุฃุฏุงุก
- โ ุชู ุฅุถุงูุฉ Pagination ูููุชุงุฆุฌ ุงููุจูุฑุฉ

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** ููุงูุฑ 2026  
**ุงูุฅุตุฏุงุฑ:** 2.0.0  
**ุญุงูุฉ ุงูุงุณุชูุฑุงุฑ:** โ ูุณุชูุฑ
